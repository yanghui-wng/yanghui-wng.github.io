{"meta":{"title":"Yanghui","subtitle":"","description":"","author":"王阳辉","url":"http://yanghuiwang.net.cn","root":"/"},"pages":[{"title":"关于","date":"2020-08-20T07:05:32.883Z","updated":"2020-08-20T07:05:32.883Z","comments":false,"path":"about/index.html","permalink":"http://yanghuiwang.net.cn/about/index.html","excerpt":"","text":"About Me! OK! let’s begin! Github：https://github.com/yanghui-wng Blog: https://yanghuiwang.net.cn 知乎：https://www.zhihu.com/people/he-he-he-16-95 Bilibili： https://space.bilibili.com/26146774 1234567891011121314151617&#123; name: &#39;Yanghui,Wang&#39;, age: 22, gender: &#39;男&#39;, Github: &#39;https:&#x2F;&#x2F;github.com&#x2F;yanghui-wng&#39;, blog: &#39;http:&#x2F;&#x2F;yanghuiwang.net.cn&#x2F;&#39;, skills: [ [&#39;机械设计&#39;, &#39;机械原理&#39;, &#39;金属工艺学&#39;, &#39;流体传动&#39;], [&#39;Git&#39;, &#39;Github&#39;, &#39;Gitee&#39;], [&#39;C&#39;, &#39;C++&#39;, &#39;C#&#39;], [&#39;blog&#39;], [&#39;python&#39;] [&#39;C51&#39;, &#39;单片机&#39;], [&#39;Solidworks&#39;, &#39;Autocad&#39;, &#39;C4D&#39;], ], description: &#39;喜欢新事物，关注机械工程动态，对新的技术有追求。&#39;,&#125;"},{"title":"分类","date":"2020-08-19T03:01:28.842Z","updated":"2020-08-18T13:43:34.263Z","comments":false,"path":"categories/index.html","permalink":"http://yanghuiwang.net.cn/categories/index.html","excerpt":"","text":""},{"title":"友情链接","date":"2020-08-19T02:52:28.290Z","updated":"2020-08-18T13:43:34.263Z","comments":true,"path":"links/index.html","permalink":"http://yanghuiwang.net.cn/links/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2020-08-19T03:03:53.512Z","updated":"2020-08-18T13:43:34.264Z","comments":false,"path":"repository/index.html","permalink":"http://yanghuiwang.net.cn/repository/index.html","excerpt":"","text":""},{"title":"标签","date":"2020-08-19T03:04:03.837Z","updated":"2020-08-18T13:43:34.265Z","comments":false,"path":"tags/index.html","permalink":"http://yanghuiwang.net.cn/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"基于C52单片机的麦克纳姆轮智能小车制作","slug":"基于C52单片机的麦克纳姆轮智能小车制作","date":"2020-08-22T09:01:57.000Z","updated":"2020-08-22T09:52:32.571Z","comments":true,"path":"2020/08/22/基于C52单片机的麦克纳姆轮智能小车制作/","link":"","permalink":"http://yanghuiwang.net.cn/2020/08/22/%E5%9F%BA%E4%BA%8EC52%E5%8D%95%E7%89%87%E6%9C%BA%E7%9A%84%E9%BA%A6%E5%85%8B%E7%BA%B3%E5%A7%86%E8%BD%AE%E6%99%BA%E8%83%BD%E5%B0%8F%E8%BD%A6%E5%88%B6%E4%BD%9C/","excerpt":"","text":"基于C52单片机的麦克纳姆轮智能小车 引言 基于C52单片机的麦克纳姆轮智能小车是两年前学完单片机之后制作的，花了好几百大洋。 选型 主要都是淘宝买的。 包括：四个麦克纳姆轮、四个L298N电机模块、四个直流电机（带法兰）、C52单片机一块、开发板一块、电池一块、底板一块（自己画找老板加工的）、蓝牙串口一块、杜邦线和螺丝螺母若干。 代码 代码是基于keil写的，然后在单片机软件stc-isp-15xx-v6.86O生成hex文件，之后导入单片机。之后通过手机蓝牙进行控制，蓝牙软件选的是SPP软件。 代码如下： 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302/********************* @ 王阳辉 @ 2018.12.28 ********************/#include &lt;reg52.h&gt;sbit IN1 = P1 ^ 0;sbit IN2 = P1 ^ 1;sbit IN3 = P1 ^ 2;sbit IN4 = P1 ^ 3;sbit IN5 = P1 ^ 4;sbit IN6 = P1 ^ 5;sbit IN7 = P1 ^ 6;sbit IN8 = P1 ^ 7;void ahead_run();//前进void back_run();//后退void left_run();//左移void right_run();//右移void forward_turn();//顺时针旋转void reverse_turn();//逆时针选转void zuoqian_run();//左前void zuohou_run();//左后void youqian_run();//右前void youhou_run();//右后void l_turn();//前转void r_turn();//后转void a_turn();//啦啦啦void init();//初始化void delay();//延时void stop();//停止void delay(unsigned int i)&#123; unsigned char t; while (i--) &#123; for (t = 0; t &lt; 120; t++); &#125;&#125;unsigned char flag,com;void main()&#123; init();//初始化，允许中断 while(1) &#123; if(flag==1) &#123; switch(com) &#123; case &#x27;a&#x27; : delay(1); ahead_run(); break; case &#x27;b&#x27; : delay(1); back_run(); break; case &#x27;l&#x27; : delay(1); left_run(); break; case &#x27;r&#x27; : delay(1); right_run(); break; case &#x27;F&#x27; : delay(1); forward_turn(); break; case &#x27;R&#x27; : delay(1); reverse_turn(); break; case &#x27;z&#x27; : delay(1); zuoqian_run(); break; case &#x27;y&#x27; : delay(1); youqian_run(); break; case &#x27;Z&#x27; : delay(1); zuohou_run(); break; case &#x27;Y&#x27; : delay(1); youhou_run(); break; case &#x27;s&#x27;: delay(1); stop(); break; case &#x27;m&#x27;: delay(1); l_turn(); break; case &#x27;n&#x27;: delay(1); r_turn(); break; case &#x27;p&#x27;: delay(1); a_turn(); break; default : delay(1); break; &#125; &#125; RI=1;//发出中断 &#125;&#125;void init()&#123; TMOD= 0x20;//设置定时器T1为方式2 TH1 = 0xfd;//定时器T1赋值，波特率9600 TL1 = 0xfd; TR1 = 1;//接通定时器T1 REN = 1;//允许接收 SM0 = 0; SM1 = 1;//串行口为方式1 EA = 1;//允许全局中断 ES = 1;//允许串行口中断 flag = 0;&#125;void stop()&#123; IN1 = 0; IN2 = 0; IN3 = 0; IN4 = 0; IN5 = 0; IN6 = 0; IN7 = 0; IN8 = 0;&#125;void ahead_run()&#123; IN1 = 0; IN2 = 1; IN3 = 0; IN4 = 1; IN5 = 0; IN6 = 1; IN7 = 0; IN8 = 1;&#125;void back_run()&#123; IN1 = 1; IN2 = 0; IN3 = 1; IN4 = 0; IN5 = 1; IN6 = 0; IN7 = 1; IN8 = 0;&#125;void left_run()&#123; IN1 = 1; IN2 = 0; IN3 = 0; IN4 = 1; IN5 = 0; IN6 = 1; IN7 = 1; IN8 = 0;&#125;void right_run()&#123; IN1 = 0; IN2 = 1; IN3 = 1; IN4 = 0; IN5 = 1; IN6 = 0; IN7 = 0; IN8 = 1;&#125;void forward_turn()&#123; IN1 = 0; IN2 = 1; IN3 = 1; IN4 = 0; IN5 = 0; IN6 = 1; IN7 = 1; IN8 = 0;&#125;void reverse_turn()&#123; IN1 = 1; IN2 = 0; IN3 = 0; IN4 = 1; IN5 = 1; IN6 = 0; IN7 = 0; IN8 = 1;&#125;void zuoqian_run()&#123; IN1 = 0; IN2 = 0; IN3 = 0; IN4 = 1; IN5 = 0; IN6 = 1; IN7 = 0; IN8 = 0;&#125;void youhou_run()&#123; IN1 = 0; IN2 = 0; IN3 = 1; IN4 = 0; IN5 = 1; IN6 = 0; IN7 = 0; IN8 = 0;&#125;void youqian_run()&#123; IN1 = 0; IN2 = 1; IN3 = 0; IN4 = 0; IN5 = 0; IN6 = 0; IN7 = 0; IN8 = 1;&#125;void zuohou_run()&#123; IN1 = 1; IN2 = 0; IN3 = 0; IN4 = 0; IN5 = 0; IN6 = 0; IN7 = 1; IN8 = 0;&#125;void l_turn()&#123; IN1 = 0; IN2 = 1; IN3 = 1; IN4 = 0; IN5 = 0; IN6 = 0; IN7 = 0; IN8 = 0;&#125;void r_turn()&#123; IN1 = 0; IN2 = 0; IN3 = 0; IN4 = 0; IN5 = 0; IN6 = 1; IN7 = 1; IN8 = 0;&#125;void a_turn()&#123; IN1 = 0; IN2 = 1; IN3 = 0; IN4 = 0; IN5 = 0; IN6 = 1; IN7 = 0; IN8 = 0;&#125;void serial() interrupt 4//串口中断子程序&#123; RI=0;//接收中断标志RI清零 com=SBUF;//接收蓝牙串口输出值 flag=1;//赋值1，执行switch&#125; 演示 小车的照片就是这样： 演示视频：","categories":[{"name":"机械工程课程","slug":"机械工程课程","permalink":"http://yanghuiwang.net.cn/categories/%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B%E8%AF%BE%E7%A8%8B/"}],"tags":[{"name":"C51单片机","slug":"C51单片机","permalink":"http://yanghuiwang.net.cn/tags/C51%E5%8D%95%E7%89%87%E6%9C%BA/"},{"name":"智能小车","slug":"智能小车","permalink":"http://yanghuiwang.net.cn/tags/%E6%99%BA%E8%83%BD%E5%B0%8F%E8%BD%A6/"}]},{"title":"机械原理课程设计","slug":"机械原理课程设计","date":"2020-08-22T01:07:37.000Z","updated":"2020-08-22T07:11:38.528Z","comments":true,"path":"2020/08/22/机械原理课程设计/","link":"","permalink":"http://yanghuiwang.net.cn/2020/08/22/%E6%9C%BA%E6%A2%B0%E5%8E%9F%E7%90%86%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/","excerpt":"","text":"大二机械原理课设说明书 每年都是牛头刨床","categories":[{"name":"机械工程课程","slug":"机械工程课程","permalink":"http://yanghuiwang.net.cn/categories/%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B%E8%AF%BE%E7%A8%8B/"}],"tags":[{"name":"机械工程","slug":"机械工程","permalink":"http://yanghuiwang.net.cn/tags/%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B/"},{"name":"机械原理","slug":"机械原理","permalink":"http://yanghuiwang.net.cn/tags/%E6%9C%BA%E6%A2%B0%E5%8E%9F%E7%90%86/"},{"name":"课程设计","slug":"课程设计","permalink":"http://yanghuiwang.net.cn/tags/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/"}]},{"title":"机器人学总结（二）","slug":"机器人学总结（二）","date":"2020-08-21T08:07:58.000Z","updated":"2020-08-22T09:48:07.861Z","comments":true,"path":"2020/08/21/机器人学总结（二）/","link":"","permalink":"http://yanghuiwang.net.cn/2020/08/21/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E6%80%BB%E7%BB%93%EF%BC%88%E4%BA%8C%EF%BC%89/","excerpt":"","text":"机器人学笔记（顺向运动学、逆向运动学） 最近在学习机器人学，所以把最近学习的知识进行总结。 参考书：《机器人学导论》 视频：机器人学之运动学——林沛群 顺向运动学 顺向运动学定义：通过改变角度、位移来改变运动状态，到达某一点。 视频测试：","categories":[{"name":"机械工程课程","slug":"机械工程课程","permalink":"http://yanghuiwang.net.cn/categories/%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B%E8%AF%BE%E7%A8%8B/"}],"tags":[{"name":"机械工程","slug":"机械工程","permalink":"http://yanghuiwang.net.cn/tags/%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B/"},{"name":"数学","slug":"数学","permalink":"http://yanghuiwang.net.cn/tags/%E6%95%B0%E5%AD%A6/"}]},{"title":"机器人学总结（一）","slug":"机器人学总结（一）","date":"2020-08-19T07:17:42.000Z","updated":"2020-08-21T08:58:57.605Z","comments":true,"path":"2020/08/19/机器人学总结（一）/","link":"","permalink":"http://yanghuiwang.net.cn/2020/08/19/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E6%80%BB%E7%BB%93%EF%BC%88%E4%B8%80%EF%BC%89/","excerpt":"","text":"机器人学笔记 最近在学习机器人学，所以把最近学习的知识进行总结。 参考书：《机器人学导论》 视频：机器人学之运动学——林沛群 导论 刚体运动状态描述–自由度 平面 空间 移动2dofs、转动1dof 移动3dofs、转动3dof 刚体运动状态描述–坐标系 在刚体建立坐标系，其中原点–质心，x、y、z轴遵循笛卡尔坐标系。 如图所示，可以对物体的姿态、速度以及加速度进行表示 数学模型 位置描述 AP=[PXPYPZ]−−位置矢量^AP=\\begin{bmatrix}P_X\\\\P_Y\\\\P_Z\\\\ \\end{bmatrix}--{位置矢量} AP=⎣⎡​PX​PY​PZ​​⎦⎤​−−位置矢量 方向描述 对应于x,y或z作转角θ的旋转变换，旋转矩阵为： R（x,θ）=[1000cθsθ0sθcθ] R（x,θ）=\\begin{bmatrix}1&amp;0&amp;0\\\\0&amp;cθ&amp;sθ\\\\0&amp;sθ&amp;cθ\\\\ \\end{bmatrix} R（x,θ）=⎣⎡​100​0cθsθ​0sθcθ​⎦⎤​ R（y,θ）=[cθ0−sθ010−sθ0cθ] R（y,θ）=\\begin{bmatrix}cθ&amp;0&amp;-sθ\\\\0&amp;1&amp;0\\\\-sθ&amp;0&amp;cθ\\\\ \\end{bmatrix} R（y,θ）=⎣⎡​cθ0−sθ​010​−sθ0cθ​⎦⎤​ R（z,θ）=[sθcθ0sθcθ0001] R（z,θ）=\\begin{bmatrix}sθ&amp;cθ&amp;0\\\\sθ&amp;cθ&amp;0\\\\0&amp;0&amp;1\\\\ \\end{bmatrix} R（z,θ）=⎣⎡​sθsθ0​cθcθ0​001​⎦⎤​ 其中 s----sinθ；c----cosθ。 绕自身轴旋转： AP′=R(θ，x)AP^AP&#x27;=R(θ，x)^AP AP′=R(θ，x)AP 性质： length=1 正交矩阵 旋转描述—Rotation Matrix frame{B}相对于{A}的姿态描述 BAR=[∣∣∣AXBAYBAZB∣∣∣]^A_BR=\\begin{bmatrix} |&amp;|&amp;|\\\\^AX_B&amp;^AY_B&amp;^AZ_B\\\\|&amp;|&amp;|\\\\ \\end{bmatrix} BA​R=⎣⎡​∣AXB​∣​∣AYB​∣​∣AZB​∣​⎦⎤​ eg: 特性： BAR=ABRT=ABR−1^A_BR=^B_AR^T=^B_AR^{-1} BA​R=AB​RT=AB​R−1 坐标变换—Rotation Matrix 描述{B}与{A}的姿态可以进行矩阵变换 AP=BARBP^AP=^A_BR^BP AP=BA​RBP 两种拆解： 1.对方向不动的转轴旋转：Fixed angles V′=BARXYZ(γ,β,α)V=RZ(α)RY(β)RX(γ)V=[r11r12r13r21r22r23r31r32r33]VV&#x27;=^A_BR_{XYZ}(γ,β,α)V=R_{Z}(α)R_{Y}(β)R_{X}(γ)V=\\begin{bmatrix} r_{11}&amp;r_{12}&amp;r_{13}\\\\r_{21}&amp;r_{22}&amp;r_{23}\\\\r_{31}&amp;r_{32}&amp;r_{33}\\\\ \\end{bmatrix}V V′=BA​RXYZ​(γ,β,α)V=RZ​(α)RY​(β)RX​(γ)V=⎣⎡​r11​r21​r31​​r12​r22​r32​​r13​r23​r33​​⎦⎤​V 这里： 定义（以后默认）绕X轴旋转为γ，绕Y轴为β，绕Z轴为α 定义依次绕X、Y、Z轴旋转。 因为绕他轴旋转，且旋转轴不动，所以定义左乘。 反求angles： 2.对转动轴为自身轴旋转：Euler angles V′=BARZ′X′Y′(α,γ,β)V=RZ′(α)RY′(β)RX′(γ)V=[r11r12r13r21r22r23r31r32r33]VV&#x27;=^A_BR_{Z&#x27;X&#x27;Y&#x27;}(α,γ,β)V=R_{Z&#x27;}(α)R_{Y&#x27;}(β)R_{X&#x27;}(γ)V=\\begin{bmatrix} r_{11}&amp;r_{12}&amp;r_{13}\\\\r_{21}&amp;r_{22}&amp;r_{23}\\\\r_{31}&amp;r_{32}&amp;r_{33}\\\\ \\end{bmatrix}V V′=BA​RZ′X′Y′​(α,γ,β)V=RZ′​(α)RY′​(β)RX′​(γ)V=⎣⎡​r11​r21​r31​​r12​r22​r32​​r13​r23​r33​​⎦⎤​V 这里： 定义（以后默认）绕X轴旋转为γ，绕Y轴为β，绕Z轴为α 定义依次绕Z、Y、X轴旋转。 因为绕自身轴旋转，且旋转轴变动，所以定义右乘。 反求angles： 刚体状态表述 1.移动 AP=[PXPYPZ]^AP=\\begin{bmatrix}P_X\\\\P_Y\\\\P_Z\\\\ \\end{bmatrix} AP=⎣⎡​PX​PY​PZ​​⎦⎤​ ​ 2.转动 BAR=[∣∣∣AXBAYBAZB∣∣∣]^A_BR=\\begin{bmatrix} |&amp;|&amp;|\\\\^AX_B&amp;^AY_B&amp;^AZ_B\\\\|&amp;|&amp;|\\\\ \\end{bmatrix} BA​R=⎣⎡​∣AXB​∣​∣AYB​∣​∣AZB​∣​⎦⎤​ ​ 3.移动和转动整合 [BAR3∗3AXBorg3∗10001]=BAT\\begin{bmatrix} ^A_BR_{3*3}&amp;^AX_B{_{org3*1}}\\\\0 0 0 &amp;1\\end{bmatrix}=^A_BT [BA​R3∗3​000​AXB​org3∗1​1​]=BA​T ​ 4.整合之后： AP=BAT∗BP^AP=^A_BT*^BP AP=BA​T∗BP Trans Matrix DUT=AUTDAT=BUTCBTDCT^U_DT=^U_AT^A_DT=^U_BT^B_CT^C_DT DU​T=AU​TDA​T=BU​TCB​TDC​T","categories":[{"name":"机械工程课程","slug":"机械工程课程","permalink":"http://yanghuiwang.net.cn/categories/%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B%E8%AF%BE%E7%A8%8B/"}],"tags":[{"name":"机械工程","slug":"机械工程","permalink":"http://yanghuiwang.net.cn/tags/%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B/"},{"name":"数学","slug":"数学","permalink":"http://yanghuiwang.net.cn/tags/%E6%95%B0%E5%AD%A6/"}]},{"title":"Hello World","slug":"hello-world","date":"2020-08-18T09:53:51.932Z","updated":"2020-08-21T09:02:39.323Z","comments":true,"path":"2020/08/18/hello-world/","link":"","permalink":"http://yanghuiwang.net.cn/2020/08/18/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post 1$ hexo new &quot;My New Post&quot; More info: Writing Run server 1$ hexo server More info: Server Generate static files 1$ hexo generate More info: Generating Deploy to remote sites 1$ hexo deploy More info: Deployment","categories":[{"name":"Github","slug":"Github","permalink":"http://yanghuiwang.net.cn/categories/Github/"}],"tags":[{"name":"Github","slug":"Github","permalink":"http://yanghuiwang.net.cn/tags/Github/"},{"name":"Hexo","slug":"Hexo","permalink":"http://yanghuiwang.net.cn/tags/Hexo/"}]}],"categories":[{"name":"机械工程课程","slug":"机械工程课程","permalink":"http://yanghuiwang.net.cn/categories/%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B%E8%AF%BE%E7%A8%8B/"},{"name":"Github","slug":"Github","permalink":"http://yanghuiwang.net.cn/categories/Github/"}],"tags":[{"name":"C51单片机","slug":"C51单片机","permalink":"http://yanghuiwang.net.cn/tags/C51%E5%8D%95%E7%89%87%E6%9C%BA/"},{"name":"智能小车","slug":"智能小车","permalink":"http://yanghuiwang.net.cn/tags/%E6%99%BA%E8%83%BD%E5%B0%8F%E8%BD%A6/"},{"name":"机械工程","slug":"机械工程","permalink":"http://yanghuiwang.net.cn/tags/%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B/"},{"name":"机械原理","slug":"机械原理","permalink":"http://yanghuiwang.net.cn/tags/%E6%9C%BA%E6%A2%B0%E5%8E%9F%E7%90%86/"},{"name":"课程设计","slug":"课程设计","permalink":"http://yanghuiwang.net.cn/tags/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/"},{"name":"数学","slug":"数学","permalink":"http://yanghuiwang.net.cn/tags/%E6%95%B0%E5%AD%A6/"},{"name":"Github","slug":"Github","permalink":"http://yanghuiwang.net.cn/tags/Github/"},{"name":"Hexo","slug":"Hexo","permalink":"http://yanghuiwang.net.cn/tags/Hexo/"}]}